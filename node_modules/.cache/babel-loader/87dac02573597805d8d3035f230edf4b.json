{"ast":null,"code":"var _jsxFileName = \"/Users/denis/Desktop/projects/tennis-shop/client/src/components/navbar/NavbarSearch.jsx\";\nimport React, { Component } from 'react';\nimport products_data from '../../data/data';\nimport { withRouter } from 'react-router-dom';\nimport { PRODUCT_PAGE_ROUTE, CATEGORY_PRODUCTS_PRODUCT } from '../../tools/routes';\n\nconst checkifHaveResult = arr => {\n  let num = false;\n\n  if (arr && arr.length > 0) {\n    num = arr.reduce((total, amount) => total + amount);\n  }\n\n  return num > 0 ? true : false;\n};\n\nconst Titles = {\n  'rackets': 'RACKETS',\n  'bags': 'BAGS',\n  'grips': 'GRIPS',\n  'shoes': 'SHOES',\n  'dampeners': 'DAMPENERS',\n  'strings': 'STRINGS',\n  'bands': 'BANDS'\n};\n\nclass NavbarSearch extends Component {\n  constructor() {\n    super();\n\n    this.handleSearch = filter_value => {\n      let results = {};\n      let has_value = [];\n      this.setState({\n        filter_value\n      });\n\n      if (filter_value) {\n        Object.entries(products_data).forEach(([key, value]) => {\n          let new_value = value.filter(m => m.title ? m.title.toLowerCase().indexOf(filter_value.toLowerCase()) > -1 : '');\n          results[key] = new_value;\n          has_value = [...has_value, new_value.length];\n        });\n      } else {\n        Object.entries(products_data).forEach(([key, value]) => {\n          results[key] = [];\n        });\n      }\n\n      this.setState({\n        results,\n        has_value\n      });\n    };\n\n    this.toggleActive = val => {\n      const body = document.querySelector('body');\n\n      if (val) {\n        body.style.overflow = 'hidden';\n      } else {\n        body.style.overflow = 'auto';\n        this.setState({\n          has_value: ''\n        });\n      }\n\n      this.setState({\n        active: val\n      });\n    };\n\n    this.submitSearch = product => {\n      this.toggleActive(false);\n\n      if (product.category_type) {\n        this.props.history.push(CATEGORY_PRODUCTS_PRODUCT.replace(':category_type', product.category_type).replace(':product_type', product.type).replace(':product_id', product.id));\n      } else {\n        this.props.history.push(PRODUCT_PAGE_ROUTE.replace(':product_type', product.type).replace(':product_id', product.id));\n      }\n\n      this.setState({\n        filter_value: ''\n      });\n    };\n\n    this.state = {};\n  }\n\n  render() {\n    const _this$state = this.state,\n          results = _this$state.results,\n          active = _this$state.active,\n          has_value = _this$state.has_value,\n          filter_value = _this$state.filter_value;\n    return React.createElement(\"div\", {\n      id: active ? 'navbar__search--active' : '',\n      className: \"navbar__search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"overlay\",\n      onClick: () => this.toggleActive(false),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"section\", {\n      className: \"navbar__search__content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      value: filter_value,\n      placeholder: \"Seach Product...\",\n      onFocus: () => this.toggleActive(true),\n      onChange: e => this.handleSearch(e.target.value),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      id: checkifHaveResult(has_value) && active ? 'results--active' : '',\n      className: \"navbar__search__results__list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, results ? Object.entries(results).map(([key, value]) => {\n      return value && value.length > 0 ? React.createElement(\"section\", {\n        className: \"navbar__search__result\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        className: \"flex__center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, Titles[key]), React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, value.map(m => {\n        return React.createElement(\"li\", {\n          onClick: () => this.submitSearch(m),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, m.title);\n      }))) : '';\n    }) : '')));\n  }\n\n}\n\nexport default withRouter(NavbarSearch);","map":{"version":3,"sources":["/Users/denis/Desktop/projects/tennis-shop/client/src/components/navbar/NavbarSearch.jsx"],"names":["React","Component","products_data","withRouter","PRODUCT_PAGE_ROUTE","CATEGORY_PRODUCTS_PRODUCT","checkifHaveResult","arr","num","length","reduce","total","amount","Titles","NavbarSearch","constructor","handleSearch","filter_value","results","has_value","setState","Object","entries","forEach","key","value","new_value","filter","m","title","toLowerCase","indexOf","toggleActive","val","body","document","querySelector","style","overflow","active","submitSearch","product","category_type","props","history","push","replace","type","id","state","render","e","target","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport products_data from '../../data/data';\nimport { withRouter } from 'react-router-dom';\nimport { PRODUCT_PAGE_ROUTE, CATEGORY_PRODUCTS_PRODUCT } from '../../tools/routes';\n\n\nconst checkifHaveResult = (arr) =>{\nlet num = false\n    if(arr && arr.length > 0){\n        num =  arr.reduce((total, amount) => total + amount) \n    }\n    return num > 0 ? true : false\n}\n\nconst Titles = {\n    'rackets': 'RACKETS',\n    'bags': 'BAGS',\n    'grips': 'GRIPS',\n    'shoes': 'SHOES',\n    'dampeners':'DAMPENERS',\n    'strings':'STRINGS',\n    'bands':'BANDS'\n}\n\nclass NavbarSearch extends Component {\n    constructor() {\n        super()\n        this.state = {\n\n        }\n    }\n\n    handleSearch = (filter_value) => {\n        let results = {}\n        let has_value = []\n        this.setState({\n            filter_value\n        })\n        if (filter_value) {\n            Object.entries(products_data).forEach(([key, value]) => {\n                let new_value = value.filter(m => m.title ? m.title.toLowerCase().indexOf(filter_value.toLowerCase()) > -1 : '')\n                results[key] = new_value\n                has_value = [...has_value,new_value.length ]\n            })\n          \n           \n        } else {\n            Object.entries(products_data).forEach(([key, value]) => {\n                results[key] = []\n            })\n        }\n        this.setState({\n            results,\n            has_value\n        })\n    }\n\n    toggleActive = (val) => {\n        const body = document.querySelector('body')\n        if (val) {\n            body.style.overflow = 'hidden'\n        } else {\n            body.style.overflow = 'auto'\n            this.setState({\n                has_value:''\n            })\n        }\n        this.setState({\n            active: val\n        })\n    }\n\n    submitSearch = (product) => {\n        this.toggleActive(false)\n       if(product.category_type){\n        this.props.history.push(\n            CATEGORY_PRODUCTS_PRODUCT\n            .replace(':category_type', product.category_type)\n            .replace(':product_type', product.type)\n            .replace(':product_id', product.id)\n            )\n       }else{\n        this.props.history.push (\n        PRODUCT_PAGE_ROUTE\n        .replace(':product_type', product.type)\n        .replace(':product_id', product.id)\n        )\n       }\n       \n        this.setState({\n            filter_value:''\n        })\n    }\n    render() {\n        const { results, active, has_value, filter_value } = this.state\n       \n        return (\n            <div\n                id={active ? 'navbar__search--active' : ''}\n                className='navbar__search'>\n                <section className=\"overlay\"\n                    onClick={() => this.toggleActive(false)}\n                ></section>\n                <section className='navbar__search__content'>\n                    <input type=\"text\"\n                    value = {filter_value}\n                        placeholder='Seach Product...'\n                        onFocus={() => this.toggleActive(true)}\n                        onChange={(e) => this.handleSearch(e.target.value)}\n                    />\n                    <div\n                        id={checkifHaveResult(has_value) && active ? 'results--active' : ''}\n                        className='navbar__search__results__list'>\n                        {\n\n                            results ?\n                                Object.entries(results).map(([key, value]) => {\n                                    return value && value.length > 0 ? <section\n                                        className='navbar__search__result'\n                                    >\n                                        <header className='flex__center'>{Titles[key]}</header>\n                                        <ul>\n                                            {\n                                                value.map(m => {\n                                                    return <li\n                                                        onClick={() => this.submitSearch(m)}\n                                                    >{m.title}</li>\n                                                })\n                                            }\n                                        </ul>\n                                    </section> : ''\n                                })\n                                : ''\n                        }\n                    </div>\n                </section>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(NavbarSearch);\n"]},"metadata":{},"sourceType":"module"}