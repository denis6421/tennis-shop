{"ast":null,"code":"import _defineProperty from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import SelectBox from'../../parts/selectbox/SelectBox';import{connect}from'react-redux';import*as actions from'../../../actions/actions';import{withRouter}from'react-router-dom';import CheckCircleOutlineOutlinedIcon from'@material-ui/icons/CheckCircleOutlineOutlined';import StatusPopup from'../../parts/add-success/StatusPopup';var CartPopup=/*#__PURE__*/function(_Component){_inherits(CartPopup,_Component);function CartPopup(){var _this;_classCallCheck(this,CartPopup);_this=_possibleConstructorReturn(this,_getPrototypeOf(CartPopup).call(this));_this.updateProduct=function(name,value){var state_product=_this.state.state_product;var new_product=state_product;new_product[name]=value;_this.setState({state_product:new_product});};_this.addProduct=function(state_product){var cart_list=_this.props.cart_reducer.cart_list;if(state_product.size&&state_product.selected_size){_this.props.addCartProducts(state_product,cart_list);_this.setState({added:true});}else{_this.setState({error:true});}if(!state_product.size){_this.props.addCartProducts(state_product,cart_list);_this.setState({added:true});}};_this.updateState=function(name,error){_this.setState(_defineProperty({},name,error));};_this.closePopup=function(){_this.props.hideAddProductPopup();};_this.state={added:false};return _this;}_createClass(CartPopup,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var product=this.props.product;var state_product=JSON.parse(JSON.stringify(product));this.setState({state_product:state_product});setTimeout(function(){_this2.setState({loaded:true});},50);}},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,state_product=_this$state.state_product,loaded=_this$state.loaded,error=_this$state.error,added=_this$state.added;return state_product?React.createElement(\"div\",{id:loaded?'cart__popup--active':'',className:\"cart__popup\"},React.createElement(StatusPopup,{with_overlay:false,title:\"Product added to cart\",handleFunction:this.closePopup,svg:React.createElement(CheckCircleOutlineOutlinedIcon,null),button_text:\"CLOSE\",active:added}),React.createElement(\"section\",{className:\"overlay\",onClick:function onClick(){return _this3.props.hideAddProductPopup();}}),React.createElement(\"div\",{id:added?'cart__popup__content--blurred':'',className:\"cart__popup__content flex__between\"},React.createElement(\"figure\",null,React.createElement(\"img\",{src:state_product.img,alt:\"\"})),React.createElement(\"section\",{className:\"cart__popup__content__details\"},React.createElement(\"h3\",null,state_product.title),React.createElement(\"h2\",null,\"$\".concat(state_product.price)),state_product.size?React.createElement(SelectBox,{property_name:\"selected_size\",value:state_product.selected_size,select:this.updateProduct,options:state_product.size,error:error,updateParentState:this.updateState}):'',React.createElement(\"span\",{className:\"cart__popup__actions\"},React.createElement(\"button\",{onClick:function onClick(){return _this3.addProduct(state_product);}},\"ADD\"),React.createElement(\"button\",{onClick:function onClick(){return _this3.props.hideAddProductPopup();}},\"CLOSE\"))))):'';}}]);return CartPopup;}(Component);function mapStateToProps(_ref){var cart_reducer=_ref.cart_reducer;return{cart_reducer:cart_reducer};}export default withRouter(connect(mapStateToProps,actions)(CartPopup));","map":{"version":3,"sources":["/Users/denis/Desktop/projects/tennis-shop/client/src/components/products/parts/CartPopup.jsx"],"names":["React","Component","SelectBox","connect","actions","withRouter","CheckCircleOutlineOutlinedIcon","StatusPopup","CartPopup","updateProduct","name","value","state_product","state","new_product","setState","addProduct","cart_list","props","cart_reducer","size","selected_size","addCartProducts","added","error","updateState","closePopup","hideAddProductPopup","product","JSON","parse","stringify","setTimeout","loaded","img","title","price","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport SelectBox from '../../parts/selectbox/SelectBox';\nimport { connect } from 'react-redux'\nimport * as actions from '../../../actions/actions'\nimport { withRouter } from 'react-router-dom';\nimport CheckCircleOutlineOutlinedIcon from '@material-ui/icons/CheckCircleOutlineOutlined';\nimport StatusPopup from '../../parts/add-success/StatusPopup';\n\n\nclass CartPopup extends Component {\n    constructor() {\n        super()\n        this.state = {\n            added: false\n        }\n    }\n    componentDidMount() {\n        const { product } = this.props\n        let state_product = JSON.parse(JSON.stringify(product))\n        this.setState({\n            state_product\n        })\n        setTimeout(() => {\n            this.setState({\n                loaded: true\n            })\n        }, 50);\n    }\n\n    updateProduct = (name, value) => {\n        const { state_product } = this.state\n        let new_product = state_product\n        new_product[name] = value\n\n        this.setState({\n            state_product: new_product\n        })\n    }\n\n    addProduct = (state_product) => {\n        const { cart_list } = this.props.cart_reducer\n        if (state_product.size && state_product.selected_size) {\n            this.props.addCartProducts(state_product, cart_list)\n            this.setState({\n                added: true\n            })\n        } else {\n            this.setState({\n                error: true\n            })\n        }\n        if (!state_product.size) {\n            this.props.addCartProducts(state_product, cart_list)\n            this.setState({\n                added: true\n            })\n        }\n    }\n\n    updateState = (name, error) => {\n        this.setState({\n            [name]: error\n        })\n    }\n\n    closePopup = () => {\n        this.props.hideAddProductPopup()\n    }\n\n    render() {\n        const { state_product, loaded, error, added } = this.state\n        return (\n            state_product ? <div\n                id={loaded ?\n                    'cart__popup--active' : ''}\n                className='cart__popup'>\n                <StatusPopup\n                    with_overlay={false}\n                    title='Product added to cart'\n                    handleFunction={this.closePopup}\n                    svg={<CheckCircleOutlineOutlinedIcon />}\n                    button_text='CLOSE'\n                    active={added}\n                />\n                <section className=\"overlay\"\n                    onClick={() => this.props.hideAddProductPopup()}\n                >\n\n                </section>\n                <div\n                    id={added ? 'cart__popup__content--blurred' : ''}\n                    className='cart__popup__content flex__between'>\n\n                    <figure><img src={state_product.img} alt=\"\" /></figure>\n                    <section\n                        className='cart__popup__content__details'\n                    >\n                        <h3>{state_product.title}</h3>\n                        <h2>{`$${state_product.price}`}</h2>\n                        {state_product.size ? <SelectBox\n                            property_name='selected_size'\n                            value={state_product.selected_size}\n                            select={this.updateProduct}\n                            options={state_product.size}\n                            error={error}\n                            updateParentState={this.updateState}\n                        /> : ''}\n\n                        <span className='cart__popup__actions'>\n                            <button\n\n                                onClick={() => this.addProduct(state_product)}>ADD</button>\n                            <button onClick={() => this.props.hideAddProductPopup()}>CLOSE</button>\n                        </span>\n                    </section>\n                </div>\n            </div> : ''\n        );\n    }\n}\n\n\nfunction mapStateToProps({ cart_reducer }) {\n    return { cart_reducer }\n}\n\nexport default withRouter(connect(mapStateToProps, actions)(CartPopup))"]},"metadata":{},"sourceType":"module"}