{"ast":null,"code":"import _toConsumableArray from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _classCallCheck from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import products_data from'../../data/data';import{withRouter}from'react-router-dom';import{PRODUCT_PAGE_ROUTE,CATEGORY_PRODUCTS_PRODUCT}from'../../tools/routes';var checkifHaveResult=function checkifHaveResult(arr){var num=false;if(arr&&arr.length>0){num=arr.reduce(function(total,amount){return total+amount;});}return num>0?true:false;};var Titles={'rackets':'RACKETS','bags':'BAGS','grips':'GRIPS','shoes':'SHOES','dampeners':'DAMPENERS','strings':'STRINGS','bands':'BANDS'};var NavbarSearch=/*#__PURE__*/function(_Component){_inherits(NavbarSearch,_Component);function NavbarSearch(){var _this;_classCallCheck(this,NavbarSearch);_this=_possibleConstructorReturn(this,_getPrototypeOf(NavbarSearch).call(this));_this.handleSearch=function(filter_value){var results={};var has_value=[];_this.setState({filter_value:filter_value});if(filter_value){Object.entries(products_data).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];var new_value=value.filter(function(m){return m.title?m.title.toLowerCase().indexOf(filter_value.toLowerCase())>-1:'';});results[key]=new_value;has_value=[].concat(_toConsumableArray(has_value),[new_value.length]);});}else{Object.entries(products_data).forEach(function(_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],value=_ref4[1];results[key]=[];});}_this.setState({results:results,has_value:has_value});};_this.toggleActive=function(val){var body=document.querySelector('body');if(val){body.style.overflow='hidden';}else{body.style.overflow='auto';_this.setState({has_value:''});}_this.setState({active:val});};_this.submitSearch=function(product){_this.toggleActive(false);if(product.category_type){_this.props.history.push(CATEGORY_PRODUCTS_PRODUCT.replace(':category_type',product.category_type).replace(':product_type',product.type).replace(':product_id',product.id));}else{_this.props.history.push(PRODUCT_PAGE_ROUTE.replace(':product_type',product.type).replace(':product_id',product.id));}_this.setState({filter_value:''});};_this.state={};return _this;}_createClass(NavbarSearch,[{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,results=_this$state.results,active=_this$state.active,has_value=_this$state.has_value,filter_value=_this$state.filter_value;return React.createElement(\"div\",{id:active?'navbar__search--active':'',className:\"navbar__search\"},React.createElement(\"section\",{className:\"overlay\",onClick:function onClick(){return _this2.toggleActive(false);}}),React.createElement(\"section\",{className:\"navbar__search__content\"},React.createElement(\"input\",{type:\"text\",value:filter_value,placeholder:\"Seach Product...\",onFocus:function onFocus(){return _this2.toggleActive(true);},onChange:function onChange(e){return _this2.handleSearch(e.target.value);}}),React.createElement(\"div\",{id:checkifHaveResult(has_value)&&active?'results--active':'',className:\"navbar__search__results__list\"},results?Object.entries(results).map(function(_ref5){var _ref6=_slicedToArray(_ref5,2),key=_ref6[0],value=_ref6[1];return value&&value.length>0?React.createElement(\"section\",{className:\"navbar__search__result\"},React.createElement(\"header\",{className:\"flex__center\"},Titles[key]),React.createElement(\"ul\",null,value.map(function(m){return React.createElement(\"li\",{onClick:function onClick(){return _this2.submitSearch(m);}},m.title);}))):'';}):'')));}}]);return NavbarSearch;}(Component);export default withRouter(NavbarSearch);","map":{"version":3,"sources":["/Users/denis/Desktop/projects/tennis-shop/client/src/components/navbar/NavbarSearch.jsx"],"names":["React","Component","products_data","withRouter","PRODUCT_PAGE_ROUTE","CATEGORY_PRODUCTS_PRODUCT","checkifHaveResult","arr","num","length","reduce","total","amount","Titles","NavbarSearch","handleSearch","filter_value","results","has_value","setState","Object","entries","forEach","key","value","new_value","filter","m","title","toLowerCase","indexOf","toggleActive","val","body","document","querySelector","style","overflow","active","submitSearch","product","category_type","props","history","push","replace","type","id","state","e","target","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport products_data from '../../data/data';\nimport { withRouter } from 'react-router-dom';\nimport { PRODUCT_PAGE_ROUTE, CATEGORY_PRODUCTS_PRODUCT } from '../../tools/routes';\n\n\nconst checkifHaveResult = (arr) =>{\nlet num = false\n    if(arr && arr.length > 0){\n        num =  arr.reduce((total, amount) => total + amount) \n    }\n    return num > 0 ? true : false\n}\n\nconst Titles = {\n    'rackets': 'RACKETS',\n    'bags': 'BAGS',\n    'grips': 'GRIPS',\n    'shoes': 'SHOES',\n    'dampeners':'DAMPENERS',\n    'strings':'STRINGS',\n    'bands':'BANDS'\n}\n\nclass NavbarSearch extends Component {\n    constructor() {\n        super()\n        this.state = {\n\n        }\n    }\n\n    handleSearch = (filter_value) => {\n        let results = {}\n        let has_value = []\n        this.setState({\n            filter_value\n        })\n        if (filter_value) {\n            Object.entries(products_data).forEach(([key, value]) => {\n                let new_value = value.filter(m => m.title ? m.title.toLowerCase().indexOf(filter_value.toLowerCase()) > -1 : '')\n                results[key] = new_value\n                has_value = [...has_value,new_value.length ]\n            })\n          \n           \n        } else {\n            Object.entries(products_data).forEach(([key, value]) => {\n                results[key] = []\n            })\n        }\n        this.setState({\n            results,\n            has_value\n        })\n    }\n\n    toggleActive = (val) => {\n        const body = document.querySelector('body')\n        if (val) {\n            body.style.overflow = 'hidden'\n        } else {\n            body.style.overflow = 'auto'\n            this.setState({\n                has_value:''\n            })\n        }\n        this.setState({\n            active: val\n        })\n    }\n\n    submitSearch = (product) => {\n        this.toggleActive(false)\n       if(product.category_type){\n        this.props.history.push(\n            CATEGORY_PRODUCTS_PRODUCT\n            .replace(':category_type', product.category_type)\n            .replace(':product_type', product.type)\n            .replace(':product_id', product.id)\n            )\n       }else{\n        this.props.history.push (\n        PRODUCT_PAGE_ROUTE\n        .replace(':product_type', product.type)\n        .replace(':product_id', product.id)\n        )\n       }\n       \n        this.setState({\n            filter_value:''\n        })\n    }\n    render() {\n        const { results, active, has_value, filter_value } = this.state\n       \n        return (\n            <div\n                id={active ? 'navbar__search--active' : ''}\n                className='navbar__search'>\n                <section className=\"overlay\"\n                    onClick={() => this.toggleActive(false)}\n                ></section>\n                <section className='navbar__search__content'>\n                    <input type=\"text\"\n                    value = {filter_value}\n                        placeholder='Seach Product...'\n                        onFocus={() => this.toggleActive(true)}\n                        onChange={(e) => this.handleSearch(e.target.value)}\n                    />\n                    <div\n                        id={checkifHaveResult(has_value) && active ? 'results--active' : ''}\n                        className='navbar__search__results__list'>\n                        {\n\n                            results ?\n                                Object.entries(results).map(([key, value]) => {\n                                    return value && value.length > 0 ? <section\n                                        className='navbar__search__result'\n                                    >\n                                        <header className='flex__center'>{Titles[key]}</header>\n                                        <ul>\n                                            {\n                                                value.map(m => {\n                                                    return <li\n                                                        onClick={() => this.submitSearch(m)}\n                                                    >{m.title}</li>\n                                                })\n                                            }\n                                        </ul>\n                                    </section> : ''\n                                })\n                                : ''\n                        }\n                    </div>\n                </section>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(NavbarSearch);\n"]},"metadata":{},"sourceType":"module"}