{"ast":null,"code":"var _jsxFileName = \"/Users/denis/Desktop/projects/tennis-shop/client/src/components/Players/PlayerPage.jsx\";\nimport React, { Component } from 'react';\nimport players from '../../data/players/players';\nimport './players.css';\nimport { withRouter } from 'react-router-dom';\nimport products_data from '../../data/data';\nimport Product from '../products/parts/Product';\nimport CartPopup from '../products/parts/CartPopup';\nimport BreadCrumbs from '../parts/bread-crumbs/BreadCrumbs';\n\nclass PlayerPage extends Component {\n  constructor() {\n    super();\n\n    this.updateState = (name, value) => {\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.getPlayer = player_id => {\n      let player = players.filter(m => m.id === player_id)[0];\n\n      if (player) {\n        this.setState({\n          player\n        });\n        this.getPlayerStuff(player);\n      }\n    };\n\n    this.getPlayerStuff = player => {\n      const products = products_data;\n      let player_items = [];\n      Object.entries(products).forEach(([key, value]) => {\n        value.forEach(elem => {\n          if (player.items.includes(elem.id)) {\n            player_items = [...player_items, elem];\n          }\n        });\n      });\n      this.setState({\n        player_items\n      });\n    };\n\n    this.handleCart = product => {\n      this.setState({\n        product\n      });\n      const body = document.querySelector('body');\n      body.style.overflow = 'hidden';\n    };\n\n    this.hideAddProductPopup = () => {\n      this.setState({\n        product: ''\n      });\n      const body = document.querySelector('body');\n      body.style.overflow = 'auto';\n    };\n\n    this.loadImg = () => {\n      this.setState({\n        img_loaded: true\n      });\n    };\n\n    this.state = {};\n  }\n\n  componentDidMount() {\n    const player_id = this.props.match.params.player_id;\n    setTimeout(() => {\n      this.setState({\n        loaded: true\n      });\n    }, 50);\n    this.getPlayer(player_id);\n  }\n\n  render() {\n    const _this$state = this.state,\n          player_items = _this$state.player_items,\n          player = _this$state.player,\n          product = _this$state.product,\n          loaded = _this$state.loaded,\n          img_loaded = _this$state.img_loaded;\n    return React.createElement(\"div\", {\n      style: {\n        opacity: loaded ? 1 : 0\n      },\n      className: \"player__page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, player ? React.createElement(BreadCrumbs, {\n      category: \"players\",\n      product_name: player.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }) : '', product ? React.createElement(CartPopup, {\n      updateProduct: this.updateProduct,\n      product: product,\n      hideAddProductPopup: this.hideAddProductPopup,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }) : '', React.createElement(\"section\", {\n      className: \"player__page__info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(\"figure\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, player ? React.createElement(\"img\", {\n      src: player.img,\n      alt: \"\",\n      onLoad: () => this.loadImg(),\n      style: {\n        opacity: img_loaded ? 1 : 0\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }) : '', React.createElement(\"aside\", {\n      id: img_loaded ? 'figure__img__loader--disabled' : '',\n      className: \"figure__img__loader\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }))), React.createElement(\"ul\", {\n      className: \"player__page__list list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, player_items && player_items.length > 0 ? player_items.map(m => {\n      return React.createElement(Product, {\n        handleCart: this.handleCart,\n        product: m,\n        key: m.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      });\n    }) : ''));\n  }\n\n}\n\nexport default withRouter(PlayerPage);","map":{"version":3,"sources":["/Users/denis/Desktop/projects/tennis-shop/client/src/components/Players/PlayerPage.jsx"],"names":["React","Component","players","withRouter","products_data","Product","CartPopup","BreadCrumbs","PlayerPage","constructor","updateState","name","value","setState","getPlayer","player_id","player","filter","m","id","getPlayerStuff","products","player_items","Object","entries","forEach","key","elem","items","includes","handleCart","product","body","document","querySelector","style","overflow","hideAddProductPopup","loadImg","img_loaded","state","componentDidMount","props","match","params","setTimeout","loaded","render","opacity","updateProduct","img","length","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport players from '../../data/players/players';\nimport './players.css'\nimport { withRouter } from 'react-router-dom';\nimport products_data from '../../data/data';\nimport Product from '../products/parts/Product';\nimport CartPopup from '../products/parts/CartPopup';\nimport BreadCrumbs from '../parts/bread-crumbs/BreadCrumbs';\n\n\n\nclass PlayerPage extends Component {\n    constructor() {\n        super()\n        this.state = {}\n    }\n    updateState = (name, value) => {\n        this.setState({\n            [name]: value\n        })\n    }\n    componentDidMount() {\n        const player_id = this.props.match.params.player_id\n        setTimeout(() => {\n            this.setState({\n                loaded: true\n            })\n        }, 50);\n        this.getPlayer(player_id)\n\n\n    }\n\n    getPlayer = (player_id) => {\n        let player = players.filter(m => m.id === player_id)[0]\n        if (player) {\n            this.setState({\n                player\n            })\n            this.getPlayerStuff(player)\n        }\n    }\n\n\n    getPlayerStuff = (player) => {\n        const products = products_data\n        let player_items = []\n        Object.entries(products).forEach(([key, value]) => {\n            value.forEach(elem => {\n                if (player.items.includes(elem.id)) {\n                    player_items = [...player_items, elem]\n                }\n            })\n        })\n        this.setState({\n            player_items\n        })\n    }\n    handleCart = (product) => {\n        this.setState({\n            product\n        })\n        const body = document.querySelector('body')\n        body.style.overflow = 'hidden'\n    }\n    hideAddProductPopup = () => {\n        this.setState({\n            product: ''\n        })\n        const body = document.querySelector('body')\n        body.style.overflow = 'auto'\n    }\n\n\n    loadImg = () => {\n        this.setState({\n            img_loaded:true\n        })\n    }\n    render() {\n        const { player_items, player, product, loaded, img_loaded } = this.state\n        return (\n            <div\n                style={{\n                    opacity: loaded ? 1 : 0\n                }}\n                className='player__page'>\n                {player ? <BreadCrumbs\n                    category='players'\n                    product_name={player.name}\n                /> : ''}\n                {product ? <CartPopup\n                    updateProduct={this.updateProduct}\n                    product={product}\n                    hideAddProductPopup={this.hideAddProductPopup}\n                /> : ''}\n                <section className='player__page__info'>\n                    <figure>\n                        {player ? <img src={player.img} alt=\"\"\n                        onLoad = {() => this.loadImg()}\n                        style ={{\n                            opacity:img_loaded ? 1 : 0\n                        }}\n                        /> : ''}\n                        <aside\n                                id={img_loaded ? 'figure__img__loader--disabled'  :''}\n                                className='figure__img__loader'></aside>\n                    </figure>\n                </section>\n                <ul className='player__page__list list'>\n                    {\n                        player_items && player_items.length > 0 ?\n                            player_items.map(m => {\n                                return <Product\n                                    handleCart={this.handleCart}\n                                    product={m}\n                                    key={m.id}\n                                />\n                            })\n                            : ''\n                    }\n                </ul>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(PlayerPage);\n"]},"metadata":{},"sourceType":"module"}