{"ast":null,"code":"import _toConsumableArray from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import players from'../../data/players/players';import'./players.css';import{withRouter}from'react-router-dom';import products_data from'../../data/data';import Product from'../products/parts/Product';import CartPopup from'../products/parts/CartPopup';import BreadCrumbs from'../parts/bread-crumbs/BreadCrumbs';var PlayerPage=/*#__PURE__*/function(_Component){_inherits(PlayerPage,_Component);function PlayerPage(){var _this;_classCallCheck(this,PlayerPage);_this=_possibleConstructorReturn(this,_getPrototypeOf(PlayerPage).call(this));_this.updateState=function(name,value){_this.setState(_defineProperty({},name,value));};_this.getPlayer=function(player_id){var player=players.filter(function(m){return m.id===player_id;})[0];if(player){_this.setState({player:player});_this.getPlayerStuff(player);}};_this.getPlayerStuff=function(player){var products=products_data;var player_items=[];Object.entries(products).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],value=_ref2[1];value.forEach(function(elem){if(player.items.includes(elem.id)){player_items=[].concat(_toConsumableArray(player_items),[elem]);}});});_this.setState({player_items:player_items});};_this.handleCart=function(product){_this.setState({product:product});var body=document.querySelector('body');body.style.overflow='hidden';};_this.hideAddProductPopup=function(){_this.setState({product:''});var body=document.querySelector('body');body.style.overflow='auto';};_this.loadImg=function(){_this.setState({img_loaded:true});};_this.state={};return _this;}_createClass(PlayerPage,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var player_id=this.props.match.params.player_id;setTimeout(function(){_this2.setState({loaded:true});},50);this.getPlayer(player_id);}},{key:\"render\",value:function render(){var _this3=this;var _this$state=this.state,player_items=_this$state.player_items,player=_this$state.player,product=_this$state.product,loaded=_this$state.loaded,img_loaded=_this$state.img_loaded;return React.createElement(\"div\",{style:{opacity:loaded?1:0},className:\"player__page\"},player?React.createElement(BreadCrumbs,{category:\"players\",product_name:player.name}):'',product?React.createElement(CartPopup,{updateProduct:this.updateProduct,product:product,hideAddProductPopup:this.hideAddProductPopup}):'',React.createElement(\"section\",{className:\"player__page__info\"},React.createElement(\"figure\",null,player?React.createElement(\"img\",{src:player.img,alt:\"\",onLoad:function onLoad(){return _this3.loadImg();},style:{opacity:img_loaded?1:0}}):'',React.createElement(\"aside\",{id:img_loaded?'figure__img__loader--disabled':'',className:\"figure__img__loader\"}))),React.createElement(\"ul\",{className:\"player__page__list list\"},player_items&&player_items.length>0?player_items.map(function(m){return React.createElement(Product,{handleCart:_this3.handleCart,product:m,key:m.id});}):''));}}]);return PlayerPage;}(Component);export default withRouter(PlayerPage);","map":{"version":3,"sources":["/Users/denis/Desktop/projects/tennis-shop/client/src/components/Players/PlayerPage.jsx"],"names":["React","Component","players","withRouter","products_data","Product","CartPopup","BreadCrumbs","PlayerPage","updateState","name","value","setState","getPlayer","player_id","player","filter","m","id","getPlayerStuff","products","player_items","Object","entries","forEach","key","elem","items","includes","handleCart","product","body","document","querySelector","style","overflow","hideAddProductPopup","loadImg","img_loaded","state","props","match","params","setTimeout","loaded","opacity","updateProduct","img","length","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport players from '../../data/players/players';\nimport './players.css'\nimport { withRouter } from 'react-router-dom';\nimport products_data from '../../data/data';\nimport Product from '../products/parts/Product';\nimport CartPopup from '../products/parts/CartPopup';\nimport BreadCrumbs from '../parts/bread-crumbs/BreadCrumbs';\n\n\n\nclass PlayerPage extends Component {\n    constructor() {\n        super()\n        this.state = {}\n    }\n    updateState = (name, value) => {\n        this.setState({\n            [name]: value\n        })\n    }\n    componentDidMount() {\n        const player_id = this.props.match.params.player_id\n        setTimeout(() => {\n            this.setState({\n                loaded: true\n            })\n        }, 50);\n        this.getPlayer(player_id)\n\n\n    }\n\n    getPlayer = (player_id) => {\n        let player = players.filter(m => m.id === player_id)[0]\n        if (player) {\n            this.setState({\n                player\n            })\n            this.getPlayerStuff(player)\n        }\n    }\n\n\n    getPlayerStuff = (player) => {\n        const products = products_data\n        let player_items = []\n        Object.entries(products).forEach(([key, value]) => {\n            value.forEach(elem => {\n                if (player.items.includes(elem.id)) {\n                    player_items = [...player_items, elem]\n                }\n            })\n        })\n        this.setState({\n            player_items\n        })\n    }\n    handleCart = (product) => {\n        this.setState({\n            product\n        })\n        const body = document.querySelector('body')\n        body.style.overflow = 'hidden'\n    }\n    hideAddProductPopup = () => {\n        this.setState({\n            product: ''\n        })\n        const body = document.querySelector('body')\n        body.style.overflow = 'auto'\n    }\n\n\n    loadImg = () => {\n        this.setState({\n            img_loaded:true\n        })\n    }\n    render() {\n        const { player_items, player, product, loaded, img_loaded } = this.state\n        return (\n            <div\n                style={{\n                    opacity: loaded ? 1 : 0\n                }}\n                className='player__page'>\n                {player ? <BreadCrumbs\n                    category='players'\n                    product_name={player.name}\n                /> : ''}\n                {product ? <CartPopup\n                    updateProduct={this.updateProduct}\n                    product={product}\n                    hideAddProductPopup={this.hideAddProductPopup}\n                /> : ''}\n                <section className='player__page__info'>\n                    <figure>\n                        {player ? <img src={player.img} alt=\"\"\n                        onLoad = {() => this.loadImg()}\n                        style ={{\n                            opacity:img_loaded ? 1 : 0\n                        }}\n                        /> : ''}\n                        <aside\n                                id={img_loaded ? 'figure__img__loader--disabled'  :''}\n                                className='figure__img__loader'></aside>\n                    </figure>\n                </section>\n                <ul className='player__page__list list'>\n                    {\n                        player_items && player_items.length > 0 ?\n                            player_items.map(m => {\n                                return <Product\n                                    handleCart={this.handleCart}\n                                    product={m}\n                                    key={m.id}\n                                />\n                            })\n                            : ''\n                    }\n                </ul>\n            </div>\n        );\n    }\n}\n\nexport default withRouter(PlayerPage);\n"]},"metadata":{},"sourceType":"module"}