{"ast":null,"code":"var _jsxFileName = \"/Users/denis/Desktop/projects/tennis-shop/client/src/components/cart/CartPreview.jsx\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport * as actions from '../../actions/actions';\nimport CartPreviewProduct from './parts/CartPreviewProduct';\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\nimport { Link } from 'react-router-dom';\nimport './cart.css';\nimport { CART_ROUTE } from '../../tools/routes';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport CloseIcon from '@material-ui/icons/Close';\n\nclass CartPreview extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.setWrapperRef = node => {\n      this.wrapperRef = node;\n    };\n\n    this.handleClickOutside = event => {\n      const show_cart = this.props.cart_reducer.show_cart;\n      let close = true;\n\n      if (event.target.classList && event.target.classList.value.indexOf('navbar__cart__element') > -1) {\n        close = false;\n      }\n\n      if (this.wrapperRef && !this.wrapperRef.contains(event.target) && show_cart && close) {\n        this.hideList();\n      }\n    };\n\n    this.hideList = () => {\n      this.props.setDataToCartReducer('show_cart', false);\n      const body = document.querySelector('body');\n      body.style.overflow = 'auto';\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener('mousedown', this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleClickOutside);\n  }\n\n  render() {\n    const _this$props$cart_redu = this.props.cart_reducer,\n          cart_list = _this$props$cart_redu.cart_list,\n          show_cart = _this$props$cart_redu.show_cart;\n    return React.createElement(\"div\", {\n      className: \"cart\",\n      id: show_cart ? 'cart--active' : '',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(\"section\", {\n      className: \"overlay\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      ref: this.setWrapperRef,\n      className: \"cart__list\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: () => this.hideList(),\n      className: \"close__cart__btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(CloseIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    })), React.createElement(\"header\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Cart Preview\"), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, cart_list && cart_list.length > 0 ? cart_list.map(product => {\n      return React.createElement(CartPreviewProduct, {\n        key: product.cart_id,\n        product: product,\n        hideList: this.hideList,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      });\n    }) : React.createElement(\"span\", {\n      className: \"empty__cart__preview flex__column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \" CART IS EMPTY\"), React.createElement(\"figure\", {\n      className: \"flex__center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, \" \", React.createElement(ShoppingCartIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    })))), cart_list && cart_list.length > 0 ? React.createElement(Link, {\n      className: \"go__to__cart flex__center\",\n      to: CART_ROUTE,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Go To Shopping Cart\"), React.createElement(ArrowForwardIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    })) : ''));\n  }\n\n}\n\nfunction mapStateToProps({\n  cart_reducer\n}) {\n  return {\n    cart_reducer\n  };\n}\n\nexport default withRouter(connect(mapStateToProps, actions)(CartPreview));","map":{"version":3,"sources":["/Users/denis/Desktop/projects/tennis-shop/client/src/components/cart/CartPreview.jsx"],"names":["React","Component","withRouter","connect","actions","CartPreviewProduct","ArrowForwardIcon","Link","CART_ROUTE","ShoppingCartIcon","CloseIcon","CartPreview","setWrapperRef","node","wrapperRef","handleClickOutside","event","show_cart","props","cart_reducer","close","target","classList","value","indexOf","contains","hideList","setDataToCartReducer","body","document","querySelector","style","overflow","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","render","cart_list","length","map","product","cart_id","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { connect } from 'react-redux'\nimport * as actions from '../../actions/actions'\nimport CartPreviewProduct from './parts/CartPreviewProduct';\nimport ArrowForwardIcon from '@material-ui/icons/ArrowForward';\nimport {Link} from 'react-router-dom'\nimport './cart.css'\nimport { CART_ROUTE } from '../../tools/routes';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport CloseIcon from '@material-ui/icons/Close';\n\n\nclass CartPreview extends Component {\n    setWrapperRef = (node) => {\n        this.wrapperRef = node;\n    }\n    componentDidMount() {\n        document.addEventListener('mousedown', this.handleClickOutside);\n\n    }\n    componentWillUnmount() {\n        document.removeEventListener('mousedown', this.handleClickOutside);\n    }\n\n    handleClickOutside = (event) => {\n        const {  show_cart } = this.props.cart_reducer\n        let close = true\n        if(event.target.classList && event.target.classList.value.indexOf('navbar__cart__element') > -1){\n            close = false\n        }\n        \n        if (this.wrapperRef &&\n            !this.wrapperRef.contains(event.target) && show_cart && close) {\n                this.hideList()\n        }\n    }\n\n    hideList = () => {\n        this.props.setDataToCartReducer('show_cart', false)\n        const body = document.querySelector('body')\n        body.style.overflow = 'auto'\n    }\n  \n    render() {\n        const { cart_list, show_cart } = this.props.cart_reducer\n        return (\n            <div className='cart'\n\n                id={show_cart ? 'cart--active' : ''}\n            >\n               \n                <section className=\"overlay\"\n                ></section>\n                <div\n                    ref={this.setWrapperRef}\n                    className='cart__list'>\n                         <button\n                         onClick = {() => this.hideList()}\n                         className='close__cart__btn'><CloseIcon /></button>\n                        <header>\n                           Cart Preview\n                        </header>\n                    <ul>\n                        {\n                            cart_list && cart_list.length > 0 ?\n                            cart_list.map(product => {\n                                return <CartPreviewProduct\n                                key = {product.cart_id}\n                                    product={product}\n                                    hideList = {this.hideList}\n                                />\n                            }) : \n                            <span className='empty__cart__preview flex__column'>\n                                     <h3> CART IS EMPTY</h3>\n                               <figure className='flex__center'> <ShoppingCartIcon /></figure>\n                          \n                                </span>\n                        }\n                    </ul>\n                   {cart_list && cart_list.length > 0 ?  <Link\n                    className='go__to__cart flex__center'\n                    to ={CART_ROUTE}>\n                        <p>Go To Shopping Cart</p>\n                        <ArrowForwardIcon />\n                    </Link>  :''}\n                </div>\n            </div>\n        );\n    }\n}\n\nfunction mapStateToProps({ cart_reducer }) {\n    return { cart_reducer }\n}\n\nexport default withRouter(connect(mapStateToProps, actions)(CartPreview))\n"]},"metadata":{},"sourceType":"module"}