{"ast":null,"code":"import _classCallCheck from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{connect}from'react-redux';import*as actions from'../../actions/actions';import{withRouter}from'react-router-dom';import CartPageProduct from'./parts/CartPageProduct';import NumberFormat from'react-number-format';import ShoppingCartIcon from'@material-ui/icons/ShoppingCart';import StatusPopup from'../parts/add-success/StatusPopup';import MoodIcon from'@material-ui/icons/Mood';var popup_text=['This is only a demo, so no payment is made here :)'];var calcTotal=function calcTotal(arr){var total=arr.reduce(function(acc,pilot){return acc+pilot.total;},0);return total>=0?total:0;};var CartPage=/*#__PURE__*/function(_Component){_inherits(CartPage,_Component);function CartPage(){var _this;_classCallCheck(this,CartPage);_this=_possibleConstructorReturn(this,_getPrototypeOf(CartPage).call(this));_this.togglePopup=function(val){_this.setState({popup:val});};_this.state={};return _this;}_createClass(CartPage,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.setDataToCartReducer('show_cart',false);var body=document.querySelector('body');body.style.overflow='auto';window.scrollTo(0,0);}},{key:\"render\",value:function render(){var _this2=this;var cart_list=this.props.cart_reducer.cart_list;var popup=this.state.popup;return React.createElement(\"div\",{className:\"cart__page\"},React.createElement(StatusPopup,{with_overlay:true,title:popup_text,handleFunction:this.togglePopup,svg:React.createElement(MoodIcon,null),button_text:\"CLOSE\",active:popup}),React.createElement(\"ul\",{className:\"cart__page__list\"},cart_list&&cart_list.length>0?cart_list.map(function(m){return React.createElement(CartPageProduct,{product:m,key:m.cart_id});}):React.createElement(\"span\",{className:\"empty__cart\"},React.createElement(\"h2\",null,\"YOUR SHOPPING CART IS EMPTY\"),React.createElement(\"figure\",{className:\"flex__center\"},\" \",React.createElement(ShoppingCartIcon,null)))),calcTotal(cart_list)?React.createElement(\"div\",{className:\"car__page__total flex__center\"},React.createElement(\"section\",{className:\"flex__center\"},React.createElement(\"aside\",null,React.createElement(\"label\",null,\"TOTAL\"),cart_list&&cart_list.length>0?React.createElement(NumberFormat,{decimalScale:\"2\",decimalSeparator:\".\",value:calcTotal(cart_list),displayType:'text',thousandSeparator:true,prefix:'$'}):''),React.createElement(\"button\",{onClick:function onClick(){return _this2.togglePopup(true);}},\"CONTINUE\"))):null);}}]);return CartPage;}(Component);function mapStateToProps(_ref){var cart_reducer=_ref.cart_reducer;return{cart_reducer:cart_reducer};}export default withRouter(connect(mapStateToProps,actions)(CartPage));","map":{"version":3,"sources":["/Users/denis/Desktop/projects/tennis-shop/client/src/components/cart/CartPage.jsx"],"names":["React","Component","connect","actions","withRouter","CartPageProduct","NumberFormat","ShoppingCartIcon","StatusPopup","MoodIcon","popup_text","calcTotal","arr","total","reduce","acc","pilot","CartPage","togglePopup","val","setState","popup","state","props","setDataToCartReducer","body","document","querySelector","style","overflow","window","scrollTo","cart_list","cart_reducer","length","map","m","cart_id","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport * as actions from '../../actions/actions'\nimport { withRouter } from 'react-router-dom';\nimport CartPageProduct from './parts/CartPageProduct';\nimport NumberFormat from 'react-number-format';\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\nimport StatusPopup from '../parts/add-success/StatusPopup';\nimport MoodIcon from '@material-ui/icons/Mood';\nconst popup_text = ['This is only a demo, so no payment is made here :)']\n\nconst calcTotal = (arr) => {\n    let total = arr.reduce((acc, pilot) => acc + pilot.total, 0)\n    return total >= 0 ? total : 0\n}\n\nclass CartPage extends Component {\n    constructor() {\n        super()\n        this.state = {\n        }\n    }\n\n\n    componentDidMount() {\n        this.props.setDataToCartReducer('show_cart', false)\n        const body = document.querySelector('body')\n        body.style.overflow = 'auto'\n        window.scrollTo(0, 0)\n    }\n    togglePopup = (val) => {\n        this.setState({\n            popup:val\n        })\n    }\n    render() {\n        const { cart_list } = this.props.cart_reducer\n        const {popup} = this.state\n        return (\n            <div className='cart__page'>\n                 <StatusPopup\n                    with_overlay={true}\n                    title={popup_text}\n                    handleFunction={this.togglePopup}\n                    svg={<MoodIcon />}\n                    button_text='CLOSE'\n                    active={popup}\n                />\n                <ul className='cart__page__list'>\n                    {\n                        cart_list && cart_list.length > 0 ?\n                            cart_list.map(m => {\n                                return <CartPageProduct\n                                    product={m}\n                                    key={m.cart_id}\n                                />\n                            }) : <span className='empty__cart'>\n                                <h2>YOUR SHOPPING CART IS EMPTY</h2>\n                                <figure className='flex__center'> <ShoppingCartIcon /></figure>\n                            </span>\n                    }\n                </ul>\n                {calcTotal(cart_list) ? <div className='car__page__total flex__center'>\n                    <section className='flex__center'>\n\n                        <aside>\n                            <label>TOTAL</label>\n                            {cart_list && cart_list.length > 0 ?\n                                <NumberFormat\n                                    decimalScale='2'\n                                    decimalSeparator='.'\n                                    value={calcTotal(cart_list)}\n                                    displayType={'text'}\n                                    thousandSeparator={true}\n                                    prefix={'$'} />\n                                : ''}\n                        </aside>\n                        <button onClick = {() => this.togglePopup(true)}>CONTINUE</button>\n                    </section>\n                </div> : null}\n            </div>\n        );\n    }\n}\n\n\n\nfunction mapStateToProps({ cart_reducer }) {\n    return { cart_reducer }\n}\n\nexport default withRouter(connect(mapStateToProps, actions)(CartPage))\n"]},"metadata":{},"sourceType":"module"}