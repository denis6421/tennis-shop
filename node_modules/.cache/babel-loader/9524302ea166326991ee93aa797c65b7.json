{"ast":null,"code":"import _classCallCheck from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/denis/Desktop/projects/tennis-shop/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{connect}from'react-redux';import*as actions from'../../../actions/actions';import Incrementor from'../../parts/incrementor/Incrementor';import DeleteIcon from'@material-ui/icons/Delete';import{PRODUCT_PAGE_ROUTE,CATEGORY_PRODUCTS_PRODUCT}from'../../../tools/routes';import{Link}from'react-router-dom';var CartPageProduct=/*#__PURE__*/function(_Component){_inherits(CartPageProduct,_Component);function CartPageProduct(){var _this;_classCallCheck(this,CartPageProduct);_this=_possibleConstructorReturn(this,_getPrototypeOf(CartPageProduct).call(this));_this.loadImg=function(){_this.setState({img_loaded:true});};_this.updateProduct=function(name,value){var product=_this.props.product;var cart_list=_this.props.cart_reducer.cart_list;var updated_product=JSON.parse(JSON.stringify(product));updated_product[name]=value;_this.props.updateProductInCart(updated_product,cart_list);};_this.updateState=function(){};_this.state={};return _this;}_createClass(CartPageProduct,[{key:\"render\",value:function render(){var _this2=this;var product=this.props.product;var img_loaded=this.state.img_loaded;var cart_list=this.props.cart_reducer.cart_list;return React.createElement(\"li\",{className:\"cart__page__product\"},React.createElement(Link,{to:product.category_type?CATEGORY_PRODUCTS_PRODUCT.replace(':category_type',product.category_type).replace(':product_type',product.type).replace(':product_id',product.id):PRODUCT_PAGE_ROUTE.replace(':product_type',product.type).replace(':product_id',product.id)},React.createElement(\"figure\",{className:\"cart__page__product__img\"},React.createElement(\"img\",{style:{opacity:img_loaded?1:0},onLoad:function onLoad(){return _this2.loadImg();},src:product.img,alt:\"\"}),React.createElement(\"aside\",{id:img_loaded?'figure__img__loader--disabled':'',className:\"figure__img__loader\"}))),React.createElement(\"section\",null,React.createElement(\"h4\",{className:\"cart__page__product__title\"},product.title),React.createElement(\"h3\",{style:{marginBottom:!product.size?'30px':''},className:\"cart__page__product__price\"},\"$\".concat(product.price)),product.size?React.createElement(\"aside\",{className:\"cart__page__product__size\"},product.selected_size):'',React.createElement(Incrementor,{property_name:\"amount\",updateParent:this.updateProduct,value:product.amount}),React.createElement(\"button\",{onClick:function onClick(){return _this2.props.removeFromCart(product,cart_list);},className:\"cart__page__product__delete\"},React.createElement(DeleteIcon,null))),React.createElement(\"button\",{onClick:function onClick(){return _this2.props.removeFromCart(product,cart_list);},className:\"cart__page__product__delete--mobile\"},\"REMOVE\"));}}]);return CartPageProduct;}(Component);function mapStateToProps(_ref){var cart_reducer=_ref.cart_reducer;return{cart_reducer:cart_reducer};}export default connect(mapStateToProps,actions)(CartPageProduct);","map":{"version":3,"sources":["/Users/denis/Desktop/projects/tennis-shop/client/src/components/cart/parts/CartPageProduct.jsx"],"names":["React","Component","connect","actions","Incrementor","DeleteIcon","PRODUCT_PAGE_ROUTE","CATEGORY_PRODUCTS_PRODUCT","Link","CartPageProduct","loadImg","setState","img_loaded","updateProduct","name","value","product","props","cart_list","cart_reducer","updated_product","JSON","parse","stringify","updateProductInCart","updateState","state","category_type","replace","type","id","opacity","img","title","marginBottom","size","price","selected_size","amount","removeFromCart","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport * as actions from '../../../actions/actions'\nimport Incrementor from '../../parts/incrementor/Incrementor'\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { PRODUCT_PAGE_ROUTE, CATEGORY_PRODUCTS_PRODUCT } from '../../../tools/routes';\nimport {Link} from 'react-router-dom'\nclass CartPageProduct extends Component {\n    constructor(){\n        super()\n        this.state = {\n\n        }\n    }\n\n\n    loadImg = () => {\n        this.setState({\n            img_loaded:true\n        })\n    }\n    updateProduct = (name, value) => {\n        const { product } = this.props\n        const { cart_list } = this.props.cart_reducer\n        let updated_product = JSON.parse(JSON.stringify(product))\n        updated_product[name] = value\n        this.props.updateProductInCart(updated_product, cart_list)\n    }\n    updateState = () => {\n\n    }\n    render() {\n        const { product } = this.props\n        const {img_loaded} = this.state\n        const { cart_list } = this.props.cart_reducer\n        \n        return (\n            <li \n         \n            className='cart__page__product'>\n              <Link \n               to ={\n                product.category_type ? \n                CATEGORY_PRODUCTS_PRODUCT\n                .replace(':category_type', product.category_type)\n                .replace(':product_type', product.type)\n                .replace(':product_id', product.id)   :\n                PRODUCT_PAGE_ROUTE\n                .replace(':product_type', product.type)\n                .replace(':product_id', product.id)\n                }\n              >\n              <figure\n                    className='cart__page__product__img'\n                >\n                    <img \n                    style ={{\n                        opacity:img_loaded ? 1 : 0\n                    }}\n                    onLoad = {() => this.loadImg()}\n                    src={product.img} alt=\"\" />\n                    <aside\n                                id={img_loaded ? 'figure__img__loader--disabled'  :''}\n                                className='figure__img__loader'></aside>\n                </figure>\n              </Link>\n                <section>\n\n                <h4 className='cart__page__product__title'>{product.title}</h4>\n                    <h3 \n                    style ={{\n                        marginBottom:!product.size ? '30px' : ''\n                    }}\n                    className='cart__page__product__price'>{`$${product.price}`}</h3>\n                       {product.size ? <aside className='cart__page__product__size'>\n                            {product.selected_size}\n                        </aside> : ''}\n                    <Incrementor\n                        property_name='amount'\n                        updateParent={this.updateProduct}\n                        value={product.amount}\n                    />\n                    <button \n                    onClick = {() => this.props.removeFromCart(product, cart_list)}\n                    className='cart__page__product__delete'><DeleteIcon /></button>\n                </section>\n                    <button \n                     onClick = {() => this.props.removeFromCart(product, cart_list)}\n                    className='cart__page__product__delete--mobile'>REMOVE</button>\n\n\n            </li>\n        )\n    }\n}\n\nfunction mapStateToProps({ cart_reducer }) {\n    return { cart_reducer }\n}\n\nexport default (connect(mapStateToProps, actions)(CartPageProduct))\n"]},"metadata":{},"sourceType":"module"}